global
    log /dev/log    local0
    maxconn 2000

defaults
    log     global
    option  httplog
    timeout connect 5000ms
    timeout client  50000ms
    timeout server  50000ms

# Frontend for write operations (Port 6381)
frontend redis-write
    bind *:6381
    mode tcp
    option tcplog
    default_backend redis-primary

# Backend for write operations (Primary Redis nodes)
backend redis-primary
    mode tcp
    balance roundrobin
    server redis1 10.0.0.2:6379 check
    server redis2 10.0.0.3:6379 check
    server redis3 10.0.0.4:6379 check

# Frontend for read operations (Port 6382)
frontend redis-read
    bind *:6382
    mode tcp
    option tcplog
    default_backend redis-replica

# Backend for read operations (Replica Redis nodes)
backend redis-replica
    mode tcp
    balance roundrobin
    server redis4 10.0.0.5:6379 check
    server redis5 10.0.0.6:6379 check
    server redis6 10.0.0.7:6379 check
